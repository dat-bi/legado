<template>
  <div class="editor">
    <source-tab-form class="left" :config="config" />
    <tool-bar />
    <source-tab-tools class="right" />
  </div>
</template>
<script setup lang="ts">
import bookSourceConfig from '@/config/bookSourceEditConfig'
import rssSourceConfig from '@/config/rssSourceEditConfig'
import '@/assets/sourceeditor.css'
import { useDark } from '@vueuse/core'
import type { SourceConfig } from '@/config/sourceConfig'
import { useI18n } from 'vue-i18n'

const { t } = useI18n()
useDark()

let config: SourceConfig

if (/bookSource/i.test(location.href)) {
  config = bookSourceConfig as SourceConfig
  document.title = t('source.bookSourceManagement')
} else {
  config = rssSourceConfig as SourceConfig
  document.title = t('source.rssSourceManagement')
}
</script>
<style lang="scss" scoped>
.editor {
  display: flex;
  height: 100vh;
  overflow: hidden;
  .left {
    flex: 1;
    margin-left: 20px;
  }
  .right {
    flex: 1;
    width: 360px;
    margin-right: 20px;
  }
}
</style>
